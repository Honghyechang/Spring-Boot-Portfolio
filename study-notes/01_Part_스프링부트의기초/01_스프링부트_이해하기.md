# 01_ìŠ¤í”„ë§ë¶€íŠ¸_ì´í•´í•˜ê¸°

## ğŸ“Œ í•™ìŠµ ëª©í‘œ
ìŠ¤í”„ë§ë¶€íŠ¸ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ì•Œì•„ì•¼ í•  ê¸°ë³¸ ê°œë…ë“¤ì„ ì •ë¦¬í•˜ê³ , ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì™€ ìŠ¤í”„ë§ë¶€íŠ¸ì˜ ê´€ê³„ë¥¼ ì´í•´í•œë‹¤.

---

## 1. ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë€?

### 1.1 ì •ì˜
**ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬(Spring Framework)** ëŠ” ìë°” ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•œ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.

- **í”„ë ˆì„ì›Œí¬ì˜ ì˜ë¯¸**: ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•œ "í‹€"ì„ ì œê³µ
- ê°œë°œìê°€ ëª¨ë“  ê²ƒì„ ì²˜ìŒë¶€í„° êµ¬í˜„í•˜ì§€ ì•Šê³ , ì œê³µëœ í‹€ ìœ„ì—ì„œ ê°œë°œ
- **ëª©ì **: ê°œë°œ ì‹œê°„ ë‹¨ì¶• ë° ìœ ì§€ë³´ìˆ˜ í¸ì˜ì„± í–¥ìƒ
- ìë°” ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬ ì¤‘ ê°€ì¥ ì¸ê¸° ìˆëŠ” í”„ë ˆì„ì›Œí¬

### 1.2 ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ íŠ¹ì§•

ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ë‹¤ìŒ 4ê°€ì§€ í•µì‹¬ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤:

1. **IoC (Inversion of Control)** - ì œì–´ì˜ ì—­ì „
2. **DI (Dependency Injection)** - ì˜ì¡´ì„± ì£¼ì…
3. **AOP (Aspect Oriented Programming)** - ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë°
4. **MVC êµ¬ì¡° ì§€ì›** - Model-View-Controller íŒ¨í„´ì„ ì‚¬ìš©í•œ ì›¹ ê°œë°œ

### 1.3 ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ ë‹¨ì 

í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤:

- âŒ **ë³µì¡í•œ ì„¤ì •**: XML, ì• ë…¸í…Œì´ì…˜ ë“± ì„¤ì •í•  ë¶€ë¶„ì´ ë§ìŒ
- âŒ **ë†’ì€ í•™ìŠµ ê³¡ì„ **: ì´ˆê¸° í•™ìŠµ ë‚œì´ë„ê°€ ë†’ìŒ
- âŒ **ì˜ì¡´ì„± ê´€ë¦¬ ë¬¸ì œ**: ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ ê´€ë¦¬ê°€ ë³µì¡í•¨
- âŒ **ë°°í¬ ì„œë²„ êµ¬ì„±**: ë³„ë„ì˜ WAS(Tomcat ë“±) ì„¤ì •ì´ ë²ˆê±°ë¡œì›€

---

## 2. ìŠ¤í”„ë§ë¶€íŠ¸ë€?

### 2.1 ì •ì˜
**ìŠ¤í”„ë§ë¶€íŠ¸(Spring Boot)** ëŠ” ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ë” ì‰½ê³  ë¹ ë¥´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“  ë„êµ¬ì…ë‹ˆë‹¤.

### 2.2 ìŠ¤í”„ë§ë¶€íŠ¸ì˜ ì¥ì 

ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ ë‹¨ì ì„ í•´ê²°í•©ë‹ˆë‹¤:

- âœ… **ìë™ ì„¤ì •(Auto Configuration)**: ë³µì¡í•œ ì„¤ì •ì„ ìë™í™”
- âœ… **ë‚´ì¥ ì„œë²„ ì œê³µ**: Tomcatì´ ë‚´ì¥ë˜ì–´ ë³„ë„ WAS ë¶ˆí•„ìš”
- âœ… **ì˜ì¡´ì„± ê´€ë¦¬ ê°„ì†Œí™”**: Starter ì˜ì¡´ì„±ìœ¼ë¡œ ë²„ì „ ê´€ë¦¬ ìë™í™”
- âœ… **ë¹ ë¥¸ ê°œë°œ ì‹œì‘**: Spring Initializrë¡œ í”„ë¡œì íŠ¸ ì¦‰ì‹œ ìƒì„± ê°€ëŠ¥

> **í•µì‹¬**: ìŠ¤í”„ë§ë¶€íŠ¸ = ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ë” í¸í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ë„êµ¬

---

## 3. ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ í•µì‹¬ ê°œë…

### 3.1 ì˜ì¡´ì„± ì£¼ì… (Dependency Injection, DI)

#### 3.1.1 ì˜ì¡´ì„±ì´ë€?

```java
public class A {
    public void doSomething() {
        B b = new B();  // A í´ë˜ìŠ¤ê°€ B í´ë˜ìŠ¤ë¥¼ ì˜ì¡´
        b.execute();
    }
}
```

- **ì˜ì¡´ì„±**: A í´ë˜ìŠ¤ê°€ B í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´, "Aê°€ Bì— ì˜ì¡´í•œë‹¤"ë¼ê³  í‘œí˜„
- **ë¬¸ì œì **: B í´ë˜ìŠ¤ë¥¼ C í´ë˜ìŠ¤ë¡œ ë³€ê²½í•˜ë ¤ë©´ A í´ë˜ìŠ¤ì˜ ì½”ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•´ì•¼ í•¨ â†’ **ê°•í•œ ê²°í•©**

#### 3.1.2 ëŠìŠ¨í•œ ê²°í•©ì„ ìœ„í•œ í•´ê²° ë°©ë²•

```java
// ì¸í„°í˜ì´ìŠ¤ ì •ì˜
public interface CoffeeMachine {
    String brew();
}

// êµ¬í˜„ì²´ 1
public class DripCoffeeMachine implements CoffeeMachine {
    @Override
    public String brew() {
        return "Brewing coffee with Drip Coffee Machine";
    }
}

// êµ¬í˜„ì²´ 2
public class EspressoMachine implements CoffeeMachine {
    @Override
    public String brew() {
        return "Brewing coffee with Espresso Machine";
    }
}

// ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤
public class CoffeeMaker {
    private CoffeeMachine coffeeMachine;

    // Setterë¥¼ í†µí•œ ì˜ì¡´ì„± ì£¼ì…
    public void setCoffeeMachine(CoffeeMachine coffeeMachine) {
        this.coffeeMachine = coffeeMachine;
    }

    public void makeCoffee() {
        System.out.println(coffeeMachine.brew());
    }
}

// ë©”ì¸ì—ì„œ ì£¼ì…
public static void main(String[] args) {
    CoffeeMaker maker = new CoffeeMaker();
    maker.setCoffeeMachine(new EspressoMachine());  // ì£¼ì…
    maker.makeCoffee();
    
    maker.setCoffeeMachine(new DripCoffeeMachine()); // êµì²´
    maker.makeCoffee();
}
```

- **ì¥ì **: CoffeeMaker ì½”ë“œ ìˆ˜ì • ì—†ì´ êµ¬í˜„ì²´ë§Œ êµì²´ ê°€ëŠ¥ â†’ **ëŠìŠ¨í•œ ê²°í•©**
- ì´ê²ƒì´ ë°”ë¡œ **ì˜ì¡´ì„± ì£¼ì…(DI)** ì˜ ê¸°ë³¸ ì›ë¦¬!

---

### 3.2 ì œì–´ì˜ ì—­ì „ (Inversion of Control, IoC)

#### 3.2.1 ì œì–´ì˜ ì£¼ì²´

**í˜„ì¬ ë¬¸ì œì **:
```java
// ê°œë°œìê°€ ì§ì ‘ ì œì–´
CoffeeMaker maker = new CoffeeMaker();
maker.setCoffeeMachine(new EspressoMachine());
```

- ê°ì²´ ìƒì„±ê³¼ ì˜ì¡´ì„± ì£¼ì…ì„ **ê°œë°œìê°€ ì§ì ‘** í•´ì•¼ í•¨
- í´ë˜ìŠ¤ê°€ ë§ì•„ì§€ë©´ ê´€ë¦¬ê°€ ë³µì¡í•´ì§

**í•´ê²°ì±…**: ì œì–´ê¶Œì„ í”„ë ˆì„ì›Œí¬ì— ë„˜ê¸°ì! â†’ **ì œì–´ì˜ ì—­ì „(IoC)**

#### 3.2.2 IoC êµ¬í˜„ ë°©ë²•

ìŠ¤í”„ë§ì—ì„œëŠ” 3ê°€ì§€ ë°©ë²•ìœ¼ë¡œ IoCë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. âœ… **XML ì„¤ì • íŒŒì¼**
2. âœ… **ì• ë…¸í…Œì´ì…˜ (ì‹¤ë¬´ì—ì„œ ì£¼ë¡œ ì‚¬ìš©)**
3. Java Config í´ë˜ìŠ¤ (ë¶€ìˆ˜ì )

---

### 3.3 ë°©ë²• 1: XML ì„¤ì • íŒŒì¼ì„ í†µí•œ IoC

#### 3.3.1 XML ì„¤ì • íŒŒì¼ ì‘ì„±

**beans.xml**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans 
       https://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- ë¹ˆ ê°ì²´ ì •ì˜ -->
    <bean id="dripCoffeeMachine" class="com.example.demo.DripCoffeeMachine"></bean>
    <bean id="espressoMachine" class="com.example.demo.EspressoMachine"></bean>

    <!-- ì˜ì¡´ì„± ì£¼ì… ë° ì´ˆê¸°í™” -->
    <bean id="coffeeMaker" class="com.example.demo.CoffeeMaker" init-method="makeCoffee">
        <property name="coffeeMachine" ref="espressoMachine"></property>
    </bean>
</beans>
```

#### 3.3.2 XML íƒœê·¸ ì„¤ëª…

| íƒœê·¸/ì†ì„± | ì„¤ëª… | ì˜ˆì‹œ |
|---------|------|------|
| `<bean>` | ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡í•  ê°ì²´(ë¹ˆ) ì •ì˜ | `<bean id="..." class="...">` |
| `id` | ë¹ˆì˜ ê³ ìœ  ì‹ë³„ì | `id="espressoMachine"` |
| `class` | ìƒì„±í•  í´ë˜ìŠ¤ì˜ ì „ì²´ ê²½ë¡œ(íŒ¨í‚¤ì§€ëª… í¬í•¨) | `class="com.example.demo.EspressoMachine"` |
| `init-method` | ë¹ˆ ìƒì„± ì§í›„ ìë™ í˜¸ì¶œë  ë©”ì„œë“œ ì§€ì • | `init-method="makeCoffee"` |
| `<property>` | Setter ë©”ì„œë“œë¥¼ í†µí•œ ì˜ì¡´ì„± ì£¼ì… | `<property name="coffeeMachine" ref="...">` |
| `name` | ì£¼ì…í•  í•„ë“œëª… (Setter ë©”ì„œë“œì˜ ì´ë¦„ê³¼ ë§¤ì¹­) | `name="coffeeMachine"` â†’ `setCoffeeMachine()` |
| `ref` | ì°¸ì¡°í•  ë‹¤ë¥¸ ë¹ˆì˜ id | `ref="espressoMachine"` |

> **ì¤‘ìš”**: `init-method`ë¡œ ì§€ì •ëœ ë©”ì„œë“œëŠ” ë¹ˆ ìƒì„±ê³¼ ë™ì‹œì— ìë™ ì‹¤í–‰ë©ë‹ˆë‹¤!

#### 3.3.3 ì• í”Œë¦¬ì¼€ì´ì…˜ì— XML ì ìš©

```java
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.ImportResource;

@SpringBootApplication
@ImportResource("classpath:beans.xml")  // XML ì„¤ì • íŒŒì¼ ë¡œë“œ
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

**ì‹¤í–‰ ê²°ê³¼**:
```
Brewing coffee with Espresso Machine
```

- ê°œë°œìê°€ `new` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì§€ë§Œ ê°ì²´ê°€ ìƒì„±ë˜ê³  ì‹¤í–‰ë¨!
- ì´ê²ƒì´ ë°”ë¡œ **ì œì–´ì˜ ì—­ì „(IoC)**

#### 3.3.4 XML ë°©ì‹ì˜ ë‹¨ì 

- âŒ ë³µì¡í•œ XML ë¬¸ë²•ì„ ìµí˜€ì•¼ í•¨
- âŒ ì½”ë“œê°€ ê¸¸ì–´ì§€ë©´ XMLë„ ê°™ì´ ê¸¸ì–´ì§
- âŒ íƒ€ì… ì•ˆì •ì„±ì´ ë¶€ì¡±í•¨ (ì»´íŒŒì¼ ì‹œì ì— ì˜¤ë¥˜ í™•ì¸ ë¶ˆê°€)

---

### 3.4 ë°©ë²• 2: ì• ë…¸í…Œì´ì…˜ì„ í†µí•œ IoC (â­ ì‹¤ë¬´ì—ì„œ ì‚¬ìš©)

#### 3.4.1 ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë€?

**ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ**ëŠ” ë¹ˆ ê°ì²´ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ê°€ìƒì˜ ê³µê°„ì…ë‹ˆë‹¤.

**ì£¼ìš” ì—­í• **:
1. ë¹ˆ ê°ì²´ ìƒì„± ë° ì´ˆê¸°í™”
2. ì˜ì¡´ì„± ìë™ ì£¼ì…
3. ë¹ˆì˜ ìƒëª…ì£¼ê¸° ê´€ë¦¬ (ìƒì„± â†’ ì‚¬ìš© â†’ ì†Œë©¸)
4. ì‹±ê¸€í†¤ íŒ¨í„´ ê´€ë¦¬ (ê¸°ë³¸ì ìœ¼ë¡œ ë¹ˆì€ 1ê°œë§Œ ìƒì„±)

> XMLë¡œ ë§Œë“  ë¹ˆë„, ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë§Œë“  ë¹ˆë„ ëª¨ë‘ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤!

#### 3.4.2 í•µì‹¬ ì• ë…¸í…Œì´ì…˜

##### @Component

```java
@Component
public class EspressoMachine implements CoffeeMachine {
    @Override
    public String brew() {
        return "Brewing coffee with Espresso Machine";
    }
}
```

- **ì—­í• **: ì´ í´ë˜ìŠ¤ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ë‹¬ë¼ëŠ” ì„ ì–¸
- **ë™ì‘**: ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ìë™ìœ¼ë¡œ ê°ì²´ ìƒì„± â†’ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡
- XMLì˜ `<bean>` íƒœê·¸ì™€ ë™ì¼í•œ ì—­í• 

> **ì¤‘ìš”**: `@Component`ê°€ ë¶™ì€ í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ì‹±ê¸€í†¤**ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. ì¦‰, ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ 1ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤.

##### @Autowired

```java
@Component
public class CoffeeMaker {
    @Autowired
    private CoffeeMachine coffeeMachine;  // ìë™ ì£¼ì…

    public void makeCoffee() {
        System.out.println(coffeeMachine.brew());
    }
}
```

- **ì—­í• **: ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ì„œ íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ” ë¹ˆì„ ìë™ìœ¼ë¡œ ì£¼ì…
- Setter ë©”ì„œë“œ ì—†ì´ë„ ì˜ì¡´ì„± ì£¼ì… ê°€ëŠ¥!
- XMLì˜ `<property>` íƒœê·¸ì™€ ë™ì¼í•œ ì—­í• 

##### @PostConstruct

```java
@Component
public class CoffeeMaker {
    @Autowired
    private CoffeeMachine coffeeMachine;

    @PostConstruct  // ì´ˆê¸°í™” ë©”ì„œë“œ
    public void makeCoffee() {
        System.out.println(coffeeMachine.brew());
    }
}
```

- **ì—­í• **: ë¹ˆ ìƒì„±ê³¼ ì˜ì¡´ì„± ì£¼ì…ì´ ì™„ë£Œëœ í›„ ìë™ ì‹¤í–‰ë  ë©”ì„œë“œ ì§€ì •
- XMLì˜ `init-method` ì†ì„±ê³¼ ë™ì¼í•œ ì—­í• 

#### 3.4.3 ë¹ˆ ìƒì„± ë° ì´ˆê¸°í™” ìˆœì„œ

```
1. @SpringBootApplication ì‹¤í–‰
   â†“
2. @Component ìŠ¤ìº” (ëª¨ë“  @Component í´ë˜ìŠ¤ ì°¾ê¸°)
   â†“
3. ë¹ˆ ê°ì²´ ìƒì„± (new ì—°ì‚°ìë¡œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±)
   â†“
4. @Autowired ì˜ì¡´ì„± ì£¼ì…
   â†“
5. @PostConstruct ì´ˆê¸°í™” ë©”ì„œë“œ ì‹¤í–‰
```

**í•µì‹¬**: `SpringApplication.run()` ì‹¤í–‰ ì‹œ ìœ„ ê³¼ì •ì´ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤!

#### 3.4.4 ê°™ì€ íƒ€ì…ì˜ ë¹ˆì´ ì—¬ëŸ¬ ê°œì¼ ë•Œ

**ë¬¸ì œ ìƒí™©**:
```java
@Component
public class DripCoffeeMachine implements CoffeeMachine { ... }

@Component
public class EspressoMachine implements CoffeeMachine { ... }

@Component
public class CoffeeMaker {
    @Autowired
    private CoffeeMachine coffeeMachine;  // ì–´ë–¤ ë¹ˆì„ ì£¼ì…í•´ì•¼ í• ê¹Œ? âŒ
}
```

**í•´ê²° ë°©ë²• 1: @Primary ì‚¬ìš©**

```java
@Component
@Primary  // ìš°ì„ ìˆœìœ„ ì§€ì •
public class DripCoffeeMachine implements CoffeeMachine {
    @Override
    public String brew() {
        return "Brewing coffee with Drip Coffee Machine";
    }
}
```

- ì—¬ëŸ¬ ë¹ˆ ì¤‘ `@Primary`ê°€ ë¶™ì€ ë¹ˆì´ ìš°ì„ ì ìœ¼ë¡œ ì£¼ì…ë¨

**í•´ê²° ë°©ë²• 2: @Qualifier ì‚¬ìš©**

```java
// ë¹ˆ ì´ë¦„ ì§€ì •
@Component("drip")
public class DripCoffeeMachine implements CoffeeMachine { ... }

@Component("espresso")
public class EspressoMachine implements CoffeeMachine { ... }

// ì£¼ì…í•  ë¹ˆ ì´ë¦„ ëª…ì‹œ
@Component
public class CoffeeMaker {
    @Autowired
    @Qualifier("drip")  // "drip" ë¹ˆì„ ì£¼ì…
    private CoffeeMachine coffeeMachine;
}
```

**í•´ê²° ë°©ë²• 3: Listë¡œ ëª¨ë‘ ì£¼ì…**

```java
@Component
public class CoffeeMaker {
    @Autowired
    private List<CoffeeMachine> coffeeMachines;  // ëª¨ë“  CoffeeMachine ë¹ˆì´ ë¦¬ìŠ¤íŠ¸ë¡œ ì£¼ì…ë¨

    public void makeCoffee() {
        coffeeMachines.forEach(machine -> 
            System.out.println(machine.brew())
        );
    }
}
```

---

### 3.5 ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë° (Aspect Oriented Programming, AOP)

#### 3.5.1 AOPë€?

**ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°(OOP)** vs **ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë°(AOP)**

- **OOP**: ìƒì†ì„ í†µí•œ ìˆ˜ì§ì  í™•ì¥
- **AOP**: ê³µí†µ ê´€ì‹¬ì‚¬ë¥¼ ìˆ˜í‰ì ìœ¼ë¡œ ì ìš©

**í•µì‹¬ ê°œë…**:
- ì—¬ëŸ¬ í´ë˜ìŠ¤/ë©”ì„œë“œì—ì„œ **ê³µí†µìœ¼ë¡œ í•„ìš”í•œ ê¸°ëŠ¥**(ë¡œê¹…, ì‹œê°„ ì¸¡ì •, íŠ¸ëœì­ì…˜ ë“±)ì„ ë¶„ë¦¬
- ì• ë…¸í…Œì´ì…˜ì„ í†µí•´ í•„ìš”í•œ ê³³ì— ììœ ë¡­ê²Œ ì ìš©
- ì½”ë“œ ì¤‘ë³µ ì œê±° ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

**ì˜ˆì‹œ**: A í´ë˜ìŠ¤ì˜ method1()ê³¼ B í´ë˜ìŠ¤ì˜ method2() ëª¨ë‘ ì‹¤í–‰ ì‹œê°„ì„ ì¸¡ì •í•˜ê³  ì‹¶ë‹¤ë©´?

```java
// AOP ì‚¬ìš© ì „ - ì¤‘ë³µ ì½”ë“œ ë°œìƒ
class A {
    void method1() {
        long start = System.currentTimeMillis();
        // ì‹¤ì œ ë¡œì§
        long end = System.currentTimeMillis();
        System.out.println("ì‹¤í–‰ ì‹œê°„: " + (end - start));
    }
}

class B {
    void method2() {
        long start = System.currentTimeMillis();
        // ì‹¤ì œ ë¡œì§
        long end = System.currentTimeMillis();
        System.out.println("ì‹¤í–‰ ì‹œê°„: " + (end - start));  // ì¤‘ë³µ!
    }
}
```

```java
// AOP ì‚¬ìš© í›„ - ì• ë…¸í…Œì´ì…˜ë§Œ ì¶”ê°€
class A {
    @MeasureExecutionTime  // ê³µí†µ ê´€ì‹¬ì‚¬ë¥¼ ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì ìš©
    void method1() {
        // ì‹¤ì œ ë¡œì§ë§Œ ì‘ì„±
    }
}

class B {
    @MeasureExecutionTime  // ê°™ì€ ì• ë…¸í…Œì´ì…˜ì„ ììœ ë¡­ê²Œ ì‚¬ìš©
    void method2() {
        // ì‹¤ì œ ë¡œì§ë§Œ ì‘ì„±
    }
}
```

#### 3.5.2 AOP êµ¬í˜„í•˜ê¸°

##### 1ë‹¨ê³„: ì˜ì¡´ì„± ì¶”ê°€

**build.gradle**
```gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-aop'
}
```

> âš ï¸ ì˜ì¡´ì„± ì¶”ê°€ í›„ ë°˜ë“œì‹œ **Gradle ë™ê¸°í™”** í•„ìš”!

##### 2ë‹¨ê³„: ì»¤ìŠ¤í…€ ì• ë…¸í…Œì´ì…˜ ìƒì„±

```java
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Target(ElementType.METHOD)          // ë©”ì„œë“œì—ë§Œ ì‚¬ìš© ê°€ëŠ¥
@Retention(RetentionPolicy.RUNTIME)  // ëŸ°íƒ€ì„ì— ì ìš©
public @interface HelloAnnotation {
}
```

**ì• ë…¸í…Œì´ì…˜ ë©”íƒ€ ì• ë…¸í…Œì´ì…˜ ì„¤ëª…**:

| ì• ë…¸í…Œì´ì…˜ | ì„¤ëª… |
|----------|------|
| `@interface` | ì´ê²ƒì´ ì• ë…¸í…Œì´ì…˜ì„ì„ ì„ ì–¸ |
| `@Target(ElementType.METHOD)` | ì´ ì• ë…¸í…Œì´ì…˜ì„ ë©”ì„œë“œì—ë§Œ ì ìš© ê°€ëŠ¥í•˜ë„ë¡ ì œí•œ |
| `@Target(ElementType.TYPE)` | í´ë˜ìŠ¤/ì¸í„°í˜ì´ìŠ¤ì— ì ìš© |
| `@Retention(RetentionPolicy.RUNTIME)` | ëŸ°íƒ€ì„ì— ì• ë…¸í…Œì´ì…˜ ì •ë³´ ìœ ì§€ (ë¦¬í”Œë ‰ì…˜ ì‚¬ìš© ê°€ëŠ¥) |
| `@Retention(RetentionPolicy.CLASS)` | ì»´íŒŒì¼ ì‹œì ê¹Œì§€ë§Œ ìœ ì§€ |

##### 3ë‹¨ê³„: Aspect í´ë˜ìŠ¤ ì‘ì„± (â­ ê°€ì¥ ì¤‘ìš”)

```java
import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Around;
import org.aspectj.lang.annotation.Aspect;
import org.springframework.stereotype.Component;

@Component  // ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
@Aspect     // ì´ í´ë˜ìŠ¤ê°€ Aspect(ê´€ì )ì„ì„ ì„ ì–¸
public class HelloAnnotationAspect {

    @Around("@annotation(HelloAnnotation)")  // HelloAnnotationì´ ë¶™ì€ ë©”ì„œë“œë¥¼ ê°ì‹¼ë‹¤
    public Object around(ProceedingJoinPoint joinPoint) throws Throwable {
        
        // ì‹¤ì œ ë©”ì„œë“œ ì‹¤í–‰ ì „ ìˆ˜í–‰í•  ë¡œì§
        System.out.println("HelloAnnotationAspect start");
        
        // ì‹¤ì œ ë©”ì„œë“œ ì‹¤í–‰ (ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œ)
        var object = joinPoint.proceed();
        
        // ì‹¤ì œ ë©”ì„œë“œ ì‹¤í–‰ í›„ ìˆ˜í–‰í•  ë¡œì§
        System.out.println("HelloAnnotationAspect end");
        
        return object;
    }
}
```

**í•µì‹¬ ê°œë…**:

| ìš”ì†Œ | ì„¤ëª… |
|-----|------|
| `@Aspect` | ì´ í´ë˜ìŠ¤ê°€ íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” Aspect í´ë˜ìŠ¤ì„ì„ ì„ ì–¸ |
| `@Around` | ë©”ì„œë“œ ì‹¤í–‰ ì „í›„ë¥¼ "ê°ì‹¸ì„œ" ì¶”ê°€ ë¡œì§ ì‹¤í–‰ |
| `@annotation(HelloAnnotation)` | `@HelloAnnotation`ì´ ë¶™ì€ ëª¨ë“  ë©”ì„œë“œì— ì ìš© |
| `ProceedingJoinPoint` | ì‹¤ì œ í˜¸ì¶œëœ ë©”ì„œë“œì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´ |
| `joinPoint.proceed()` | ì‹¤ì œ ë©”ì„œë“œ ì‹¤í–‰ (ì´ í˜¸ì¶œ ì „/í›„ë¡œ ì½”ë“œ ë°°ì¹˜) |

**ë™ì‘ ìˆœì„œ**:
```
1. @HelloAnnotationì´ ë¶™ì€ ë©”ì„œë“œ í˜¸ì¶œ
   â†“
2. Aspectì˜ around() ë©”ì„œë“œ ì§„ì…
   â†“
3. "HelloAnnotationAspect start" ì¶œë ¥
   â†“
4. joinPoint.proceed() â†’ ì‹¤ì œ ë©”ì„œë“œ ì‹¤í–‰
   â†“
5. "HelloAnnotationAspect end" ì¶œë ¥
   â†“
6. ê²°ê³¼ ë°˜í™˜
```

##### 4ë‹¨ê³„: ì• ë…¸í…Œì´ì…˜ ì‚¬ìš©

```java
@Component
public class MyService {
    
    @HelloAnnotation  // Aspect ì ìš©
    public void doSomething() {
        System.out.println("ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰");
    }
}
```

**ì‹¤í–‰ ê²°ê³¼**:
```
HelloAnnotationAspect start
ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
HelloAnnotationAspect end
```

#### 3.5.3 AOP ì–´ë“œë°”ì´ìŠ¤ íƒ€ì…

Aspectê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì— ë”°ë¼ 5ê°€ì§€ ì–´ë“œë°”ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

| ì–´ë“œë°”ì´ìŠ¤ | ì‹¤í–‰ ì‹œì  | ì‚¬ìš© ì˜ˆì‹œ |
|----------|---------|----------|
| `@Before` | ë©”ì„œë“œ ì‹¤í–‰ **ì „** | ë§¤ê°œë³€ìˆ˜ ë¡œê¹…, ì‚¬ì „ ê²€ì¦ |
| `@After` | ë©”ì„œë“œ ì‹¤í–‰ **í›„** (ì„±ê³µ/ì‹¤íŒ¨ ë¬´ê´€) | ë¦¬ì†ŒìŠ¤ ì •ë¦¬, ë¡œê¹… |
| `@AfterReturning` | ë©”ì„œë“œ **ì •ìƒ ì¢…ë£Œ í›„** | ë°˜í™˜ê°’ ë¡œê¹…, í›„ì²˜ë¦¬ |
| `@AfterThrowing` | ë©”ì„œë“œ **ì˜ˆì™¸ ë°œìƒ í›„** | ì˜ˆì™¸ ë¡œê¹…, ì•Œë¦¼ ì „ì†¡ |
| `@Around` | ë©”ì„œë“œ ì‹¤í–‰ **ì „í›„ ëª¨ë‘** | ì‹¤í–‰ ì‹œê°„ ì¸¡ì •, íŠ¸ëœì­ì…˜ |

**ì˜ˆì‹œ: @Before**
```java
@Before("@annotation(HelloAnnotation)")
public void before(JoinPoint joinPoint) {
    Object[] args = joinPoint.getArgs();  // ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°
    System.out.println("ë§¤ê°œë³€ìˆ˜ ê°œìˆ˜: " + args.length);
}
```

**ì˜ˆì‹œ: @AfterReturning**
```java
@AfterReturning(pointcut = "@annotation(HelloAnnotation)", returning = "result")
public void afterReturning(Object result) {
    System.out.println("ë°˜í™˜ê°’: " + result);
}
```

**ì˜ˆì‹œ: ì‹¤í–‰ ì‹œê°„ ì¸¡ì • (ì‹¤ë¬´ í™œìš©)**
```java
@Around("@annotation(MeasureExecutionTime)")
public Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {
    long start = System.currentTimeMillis();
    
    Object result = joinPoint.proceed();
    
    long end = System.currentTimeMillis();
    System.out.println("ì‹¤í–‰ ì‹œê°„: " + (end - start) + "ms");
    
    return result;
}
```

---

## 4. ì˜¤ëŠ˜ ë°°ìš´ ì• ë…¸í…Œì´ì…˜ ì •ë¦¬

### 4.1 IoC/DI ê´€ë ¨

| ì• ë…¸í…Œì´ì…˜ | ì—­í•  | ì˜ˆì‹œ |
|-----------|------|------|
| `@SpringBootApplication` | ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ì  | ë©”ì¸ í´ë˜ìŠ¤ì— ì‚¬ìš© |
| `@Component` | í´ë˜ìŠ¤ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡ | ì¼ë°˜ í´ë˜ìŠ¤ |
| `@Autowired` | íƒ€ì…ì— ë§ëŠ” ë¹ˆì„ ìë™ ì£¼ì… | í•„ë“œ, ìƒì„±ì, Setterì— ì‚¬ìš© |
| `@Primary` | ê°™ì€ íƒ€ì…ì˜ ë¹ˆì´ ì—¬ëŸ¬ ê°œì¼ ë•Œ ìš°ì„ ìˆœìœ„ ì§€ì • | `@Component`ì™€ í•¨ê»˜ ì‚¬ìš© |
| `@Qualifier("ë¹ˆì´ë¦„")` | ì£¼ì…ë°›ì„ ë¹ˆì˜ ì´ë¦„ì„ ëª…ì‹œ | `@Autowired`ì™€ í•¨ê»˜ ì‚¬ìš© |
| `@PostConstruct` | ë¹ˆ ì´ˆê¸°í™” í›„ ìë™ ì‹¤í–‰ë  ë©”ì„œë“œ ì§€ì • | ì´ˆê¸°í™” ë¡œì§ |
| `@ImportResource` | XML ì„¤ì • íŒŒì¼ ë¡œë“œ | `@ImportResource("classpath:beans.xml")` |

### 4.2 AOP ê´€ë ¨

| ì• ë…¸í…Œì´ì…˜ | ì—­í•  | ì˜ˆì‹œ |
|-----------|------|------|
| `@Aspect` | íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ì„ì„ ì„ ì–¸ | Aspect í´ë˜ìŠ¤ì— ì‚¬ìš© |
| `@Around` | ë©”ì„œë“œ ì‹¤í–‰ ì „í›„ ë¡œì§ ì‹¤í–‰ | ì‹¤í–‰ ì‹œê°„ ì¸¡ì • |
| `@Before` | ë©”ì„œë“œ ì‹¤í–‰ ì „ ë¡œì§ ì‹¤í–‰ | ë§¤ê°œë³€ìˆ˜ ê²€ì¦ |
| `@After` | ë©”ì„œë“œ ì‹¤í–‰ í›„ ë¡œì§ ì‹¤í–‰ (ì˜ˆì™¸ ë¬´ê´€) | ë¦¬ì†ŒìŠ¤ ì •ë¦¬ |
| `@AfterReturning` | ë©”ì„œë“œ ì •ìƒ ì¢…ë£Œ í›„ ë¡œì§ ì‹¤í–‰ | ë°˜í™˜ê°’ ë¡œê¹… |
| `@AfterThrowing` | ë©”ì„œë“œ ì˜ˆì™¸ ë°œìƒ í›„ ë¡œì§ ì‹¤í–‰ | ì˜ˆì™¸ ì²˜ë¦¬ |
| `@Target` | ì• ë…¸í…Œì´ì…˜ì„ ì ìš©í•  ëŒ€ìƒ ì§€ì • | `ElementType.METHOD` |
| `@Retention` | ì• ë…¸í…Œì´ì…˜ ì •ë³´ ìœ ì§€ ì •ì±… ì§€ì • | `RetentionPolicy.RUNTIME` |

---

## 5. í•µì‹¬ ìš”ì•½

### 5.1 ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì™€ ìŠ¤í”„ë§ë¶€íŠ¸

```
ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬
    â†“ (ë³µì¡í•œ ì„¤ì •, ë†’ì€ í•™ìŠµ ê³¡ì„ )
ìŠ¤í”„ë§ë¶€íŠ¸ = ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ì‰½ê²Œ ì‚¬ìš©í•˜ëŠ” ë„êµ¬
    â†“ (ìë™ ì„¤ì •, ë‚´ì¥ ì„œë²„, ê°„í¸í•œ ì˜ì¡´ì„± ê´€ë¦¬)
ë¹ ë¥¸ ê°œë°œ ê°€ëŠ¥!
```

### 5.2 IoCì™€ DI

**ì „í†µì ì¸ ë°©ì‹**:
```java
// ê°œë°œìê°€ ì œì–´
A a = new A();
B b = new B();
a.setB(b);
```

**ìŠ¤í”„ë§ ë°©ì‹**:
```java
// í”„ë ˆì„ì›Œí¬ê°€ ì œì–´ (IoC)
@Component
class A {
    @Autowired  // ìë™ ì£¼ì… (DI)
    private B b;
}
```

### 5.3 AOPì˜ í•µì‹¬

- **ê³µí†µ ê´€ì‹¬ì‚¬**(ë¡œê¹…, ì‹œê°„ ì¸¡ì •, íŠ¸ëœì­ì…˜ ë“±)ë¥¼ **íš¡ë‹¨ìœ¼ë¡œ ì ìš©**
- ì• ë…¸í…Œì´ì…˜ì„ í†µí•´ í•„ìš”í•œ ê³³ì—ë§Œ ì„ íƒì ìœ¼ë¡œ ì ìš©
- ì½”ë“œ ì¤‘ë³µ ì œê±° ë° ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬

---

## 6. ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

### Q1. ë¹ˆì€ ëª‡ ê°œ ìƒì„±ë˜ë‚˜ìš”?
**A.** ê¸°ë³¸ì ìœ¼ë¡œ **ì‹±ê¸€í†¤(Singleton)** ìœ¼ë¡œ 1ê°œë§Œ ìƒì„±ë©ë‹ˆë‹¤. ì—¬ëŸ¬ ê°œê°€ í•„ìš”í•˜ë©´ `@Scope("prototype")`ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```java
@Component
@Scope("prototype")  // ìš”ì²­í•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
public class MyBean { }
```

### Q2. XML vs ì• ë…¸í…Œì´ì…˜, ë­˜ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?
**A.** ì‹¤ë¬´ì—ì„œëŠ” **ì• ë…¸í…Œì´ì…˜**ì„ ì••ë„ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤. XMLì€ ë ˆê±°ì‹œ í”„ë¡œì íŠ¸ì—ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Q3. Component, Service, Repositoryì˜ ì°¨ì´ëŠ”?
**A.** ê¸°ëŠ¥ì€ ë™ì¼í•˜ì§€ë§Œ, **ì—­í• ì„ ëª…í™•íˆ** í•˜ê¸° ìœ„í•´ êµ¬ë¶„í•©ë‹ˆë‹¤:

| ì• ë…¸í…Œì´ì…˜ | ì—­í•  | ì‚¬ìš© ìœ„ì¹˜ |
|-----------|------|----------|
| `@Component` | ì¼ë°˜ì ì¸ ìŠ¤í”„ë§ ë¹ˆ | ë²”ìš© |
| `@Service` | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ | Service í´ë˜ìŠ¤ |
| `@Repository` | ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ | DAO í´ë˜ìŠ¤ |
| `@Controller` | í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µ | ì›¹ ì»¨íŠ¸ë¡¤ëŸ¬ |

> ëª¨ë‘ ë‚´ë¶€ì ìœ¼ë¡œ `@Component`ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤!

### Q4. AutowiredëŠ” ì–´ë””ì— ë¶™ì—¬ì•¼ í•˜ë‚˜ìš”?
**A.** 3ê°€ì§€ ë°©ë²•ì´ ìˆìœ¼ë©°, **ìƒì„±ì ì£¼ì…**ì´ ê¶Œì¥ë©ë‹ˆë‹¤:

```java
// 1. í•„ë“œ ì£¼ì… (ê°„ë‹¨í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€)
@Autowired
private MyService myService;

// 2. Setter ì£¼ì…
@Autowired
public void setMyService(MyService myService) {
    this.myService = myService;
}

// 3. ìƒì„±ì ì£¼ì… (ê¶Œì¥!) - ë¶ˆë³€ì„± ë³´ì¥
@Autowired  // ìƒì„±ìê°€ 1ê°œë©´ ìƒëµ ê°€ëŠ¥
public MyClass(MyService myService) {
    this.myService = myService;
}
```

### Q5. PostConstructëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?
**A.** ë¹ˆì´ ì™„ì „íˆ ì´ˆê¸°í™”ëœ í›„ **í•œ ë²ˆë§Œ** ì‹¤í–‰í•  ì‘ì—…ì´ ìˆì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤:

```java
@Component
public class DataInitializer {
    
    @Autowired
    private DatabaseService dbService;
    
    @PostConstruct
    public void init() {
        // ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ì´ˆê¸° ë°ì´í„° ë¡œë“œ
        dbService.loadInitialData();
    }
}
```

### Q6. Aroundì™€ Beforeì˜ ì°¨ì´ëŠ”?
**A.**

- `@Around`: ë©”ì„œë“œ ì‹¤í–‰ **ì œì–´ ê°€ëŠ¥** (`proceed()` í˜¸ì¶œ í•„ìš”), ë°˜í™˜ê°’ ì¡°ì‘ ê°€ëŠ¥
- `@Before`: ë©”ì„œë“œ ì‹¤í–‰ ì „ì—ë§Œ ë™ì‘, ì‹¤í–‰ ì œì–´ ë¶ˆê°€

```java
// @Around - proceed() í˜¸ì¶œì„ í†µí•´ ì‹¤í–‰ ì œì–´
@Around("@annotation(MyAnnotation)")
public Object around(ProceedingJoinPoint joinPoint) throws Throwable {
    // ì¡°ê±´ì— ë”°ë¼ ì‹¤í–‰ ì—¬ë¶€ ê²°ì • ê°€ëŠ¥
    if (condition) {
        return joinPoint.proceed();  // ì‹¤í–‰
    } else {
        return null;  // ì‹¤í–‰ ì•ˆ í•¨
    }
}

// @Before - í•­ìƒ ë©”ì„œë“œ ì‹¤í–‰ë¨
@Before("@annotation(MyAnnotation)")
public void before(JoinPoint joinPoint) {
    // ë©”ì„œë“œ ì‹¤í–‰ ì „ ë¡œì§ë§Œ ì¶”ê°€ ê°€ëŠ¥
    // ë©”ì„œë“œ ì‹¤í–‰ì„ ë§‰ì„ ìˆ˜ ì—†ìŒ
}
```

---
