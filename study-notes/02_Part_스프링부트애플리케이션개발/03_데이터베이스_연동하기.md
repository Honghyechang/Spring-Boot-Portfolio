# 03_ë°ì´í„°ë² ì´ìŠ¤_ì—°ë™í•˜ê¸°

<!--
# ì²« ì‘ì„± (3.1 JDBC)
docs: [Ch03] ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ - JDBC ì¶”ê°€

# ë‹¤ìŒ ì—…ë°ì´íŠ¸ (3.2, 3.3 ì¶”ê°€)
docs: [Ch03] ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ - Spring Data JDBC, MyBatis ì¶”ê°€

# ë§ˆì§€ë§‰ ì™„ë£Œ (3.4, 3.5 ì¶”ê°€)
docs: [Ch03] ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ - JPA, MongoDB ì¶”ê°€ ë° ì™„ë£Œ

-->

## ğŸ“Œ í•™ìŠµ ëª©í‘œ
ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì„ ì´í•´í•˜ê³ , ê° ë°©ì‹ì˜ íŠ¹ì§•ê³¼ ì‚¬ìš©ë²•ì„ ìµíŒë‹¤.

---

## ëª©ì°¨

- [3.1 JDBC](#31-jdbc)
- [3.2 Spring Data JDBC](#32-spring-data-jdbc) 
- [3.3 MyBatis](#33-mybatis) 
- [3.4 JPA](#34-jpa) 
- [3.5 MongoDB](#35-mongodb) 

---

## 3.1 JDBC

### 3.1.1 JDBCë€?

**JDBC (Java Database Connectivity)** ëŠ” Java ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ **í‘œì¤€ API**ì…ë‹ˆë‹¤.

#### JDBCì˜ êµ¬ì„± ìš”ì†Œ

```
[Java ì• í”Œë¦¬ì¼€ì´ì…˜]
      â†“
[JDBC API] â† Javaê°€ ì œê³µí•˜ëŠ” í‘œì¤€ ì¸í„°í˜ì´ìŠ¤
      â†“
[JDBC Driver] â† ê° DB ë²¤ë”ê°€ ì œê³µí•˜ëŠ” êµ¬í˜„ì²´
      â†“
[ë°ì´í„°ë² ì´ìŠ¤ (MySQL, Oracle, PostgreSQL ë“±)]
```

| êµ¬ì„± ìš”ì†Œ | ì œê³µì | ì—­í•  |
|----------|-------|------|
| **JDBC API** | Java (Oracle) | ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ì„ ìœ„í•œ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ |
| **JDBC Driver** | ê° DB ë²¤ë” (MySQL, Oracle ë“±) | JDBC APIì˜ ì‹¤ì œ êµ¬í˜„ì²´ |
| **ë°ì´í„°ë² ì´ìŠ¤** | DB ë²¤ë” | ì‹¤ì œ ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬ |

#### JDBC Driverì˜ ì—­í• 

**JDBC Driver**ëŠ” Java ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ ê°„ì˜ **í†µì‹ ì„ ë‹´ë‹¹í•˜ëŠ” ë¸Œë¦¬ì§€(ë‹¤ë¦¬)** ì—­í• ì„ í•©ë‹ˆë‹¤.

- MySQL JDBC Driver: `mysql-connector-j`
- PostgreSQL JDBC Driver: `postgresql`
- Oracle JDBC Driver: `ojdbc`

**ë¹„ìœ **:
```
JDBC API = USB ê·œê²© (í‘œì¤€ ì¸í„°í˜ì´ìŠ¤)
JDBC Driver = USB ì¼€ì´ë¸” (ì œì¡°ì‚¬ë³„ êµ¬í˜„)
ë°ì´í„°ë² ì´ìŠ¤ = USB ì¥ì¹˜
```

#### ì™œ JDBCê°€ í•„ìš”í•œê°€?

**ë¬¸ì œ ìƒí™©**:
- ë°ì´í„°ë² ì´ìŠ¤ë§ˆë‹¤ í†µì‹  ë°©ì‹ì´ ë‹¤ë¦„
- MySQL, Oracle, PostgreSQL ë“± ê°ê° ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼

**JDBCì˜ í•´ê²°**:
- **í‘œì¤€í™”ëœ ì¸í„°í˜ì´ìŠ¤ ì œê³µ**
- ê°œë°œìëŠ” JDBC APIë§Œ ì‚¬ìš©
- ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ì‹œ Driverë§Œ êµì²´í•˜ë©´ ë¨

```java
// MySQLì´ë“  Oracleì´ë“  ì½”ë“œëŠ” ë™ì¼!
Connection conn = DriverManager.getConnection(url, user, password);
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery("SELECT * FROM member");
```

---

### 3.1.2 ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸° ì„¤ì •

#### DBeaverë¥¼ í†µí•œ ë°ì´í„° ì´ˆê¸°í™”

**ì‹¤ìŠµ í™˜ê²½**:
- ë°ì´í„°ë² ì´ìŠ¤: MySQL 8.4
- ê´€ë¦¬ ë„êµ¬: DBeaver Community 25.2.2
- ë°ì´í„°ë² ì´ìŠ¤ëª…: `mydb`
- ì‚¬ìš©ì: `myuser` / ë¹„ë°€ë²ˆí˜¸: `mypass`

#### SQL ìŠ¤í¬ë¦½íŠ¸

```sql
-- ========================================
-- 1. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
-- ========================================
-- mydbë¼ëŠ” ì´ë¦„ì˜ ë°ì´í„°ë² ì´ìŠ¤ ê³µê°„ì„ ìƒì„±í•©ë‹ˆë‹¤.
-- IF NOT EXISTS: ì´ë¯¸ ì¡´ì¬í•˜ë©´ ìƒëµ (ì—ëŸ¬ ë°©ì§€)
CREATE DATABASE IF NOT EXISTS mydb;

-- ========================================
-- 2. ì‚¬ìš©ì ìƒì„± ë° ì¸ì¦
-- ========================================
-- myuser ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤.
-- @'%': ëª¨ë“  í˜¸ìŠ¤íŠ¸(IP)ì—ì„œ ì ‘ì† í—ˆìš©
-- IDENTIFIED BY 'mypass': ë¹„ë°€ë²ˆí˜¸ë¥¼ mypassë¡œ ì„¤ì •
CREATE USER IF NOT EXISTS 'myuser'@'%' IDENTIFIED BY 'mypass';

-- ========================================
-- 3. ê¶Œí•œ ë¶€ì—¬
-- ========================================
-- myuserê°€ mydb ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  ê°ì²´(í…Œì´ë¸”, ë·° ë“±)ì— ëŒ€í•´
-- ëª¨ë“  ê¶Œí•œ(SELECT, INSERT, UPDATE, DELETE, CREATE, DROP ë“±)ì„ ê°€ì§€ë„ë¡ ì„¤ì •
GRANT ALL ON mydb.* TO 'myuser'@'%';

-- ========================================
-- 4. ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ
-- ========================================
USE mydb;

-- ========================================
-- 5. í…Œì´ë¸” ìƒì„±
-- ========================================
CREATE TABLE IF NOT EXISTS member(
    id INTEGER AUTO_INCREMENT PRIMARY KEY,  -- ìë™ ì¦ê°€ ê¸°ë³¸í‚¤
    name VARCHAR(128) NOT NULL,             -- ì´ë¦„ (í•„ìˆ˜)
    email VARCHAR(256) NOT NULL,            -- ì´ë©”ì¼ (í•„ìˆ˜)
    age INTEGER                             -- ë‚˜ì´ (ì„ íƒ)
);

-- ========================================
-- 6. ë°ì´í„° ì‚½ì…
-- ========================================
INSERT INTO member(name, email, age) VALUES ('ê¹€ìš°í˜„', 'kimwoo@spring.co.kr', 10);
INSERT INTO member(name, email, age) VALUES ('í™í˜œì°½', 'hyechang@spring.co.kr', 20);
INSERT INTO member(name, email, age) VALUES ('ìœ¤ì„œì¤€', 'Seojunyoon@spring.co.kr', 22);
INSERT INTO member(name, email, age) VALUES ('ê¹€ë¯¼ìˆ˜', 'minsusu@spring.co.kr', 30);

-- ========================================
-- 7. ë°ì´í„° ì¡°íšŒ (í™•ì¸)
-- ========================================
SELECT * FROM member;
```

#### SQL ëª…ë ¹ì–´ ì„¤ëª…

| ëª…ë ¹ì–´ | ì—­í•  | ì„¤ëª… |
|-------|------|------|
| `CREATE DATABASE` | ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± | ë°ì´í„°ë¥¼ ì €ì¥í•  ë…¼ë¦¬ì  ê³µê°„ ìƒì„± |
| `CREATE USER` | ì‚¬ìš©ì ê³„ì • ìƒì„± | ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† ê³„ì • ìƒì„± |
| `GRANT` | ê¶Œí•œ ë¶€ì—¬ | íŠ¹ì • ì‚¬ìš©ìì—ê²Œ DB ì‘ì—… ê¶Œí•œ ë¶€ì—¬ |
| `USE` | ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ | ì‘ì—…í•  ë°ì´í„°ë² ì´ìŠ¤ ì§€ì • |
| `CREATE TABLE` | í…Œì´ë¸” ìƒì„± | ë°ì´í„°ë¥¼ ì €ì¥í•  í…Œì´ë¸” êµ¬ì¡° ì •ì˜ |
| `INSERT INTO` | ë°ì´í„° ì‚½ì… | í…Œì´ë¸”ì— ë ˆì½”ë“œ ì¶”ê°€ |
| `SELECT` | ë°ì´í„° ì¡°íšŒ | í…Œì´ë¸”ì˜ ë°ì´í„° ê²€ìƒ‰ |

#### ë°ì´í„° í™•ì¸

```
+----+----------+-------------------------+------+
| id | name     | email                   | age  |
+----+----------+-------------------------+------+
|  1 | ê¹€ìš°í˜„   | kimwoo@spring.co.kr     |   10 |
|  2 | í™í˜œì°½   | hyechang@spring.co.kr   |   20 |
|  3 | ìœ¤ì„œì¤€   | Seojunyoon@spring.co.kr |   22 |
|  4 | ê¹€ë¯¼ìˆ˜   | minsusu@spring.co.kr    |   30 |
+----+----------+-------------------------+------+
```

---

### 3.1.3 í”„ë¡œì íŠ¸ ì„¤ì •

#### ì˜ì¡´ì„± ì¶”ê°€

**build.gradle**:
```gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter'
    
    // MySQL JDBC Driver
    implementation 'com.mysql:mysql-connector-j:9.2.0'
    
    // Lombok (ì½”ë“œ ìë™ ìƒì„±)
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    
    // í…ŒìŠ¤íŠ¸
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}
```

#### ì˜ì¡´ì„± ì„¤ëª…

| ì˜ì¡´ì„± | ì—­í•  |
|-------|------|
| `spring-boot-starter` | ìŠ¤í”„ë§ë¶€íŠ¸ ê¸°ë³¸ ê¸°ëŠ¥ |
| `mysql-connector-j:9.2.0` | **MySQL JDBC Driver** (í•µì‹¬!) |
| `lombok` | Getter, Setter ë“± ìë™ ìƒì„± |

> âš ï¸ **ì¤‘ìš”**: `mysql-connector-j`ë¥¼ ì¶”ê°€í•´ì•¼ MySQLê³¼ í†µì‹ í•  ìˆ˜ ìˆëŠ” JDBC Driverê°€ í”„ë¡œì íŠ¸ì— í¬í•¨ë©ë‹ˆë‹¤!

**JDBC Driver í¬í•¨ í™•ì¸**:
```
í”„ë¡œì íŠ¸ êµ¬ì¡°
â””â”€ External Libraries
   â””â”€ com.mysql:mysql-connector-j:9.2.0
      â””â”€ com.mysql.cj.jdbc.Driver â† JDBC Driver í´ë˜ìŠ¤
```

---

### 3.1.4 ì—”í‹°í‹° í´ë˜ìŠ¤ ì‘ì„±

**Member.java**:
```java
package kr.ac.hansung.cse.databasesample;

import lombok.*;

/**
 * Member ì—”í‹°í‹° í´ë˜ìŠ¤
 * - ë°ì´í„°ë² ì´ìŠ¤ì˜ member í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ëŠ” Java ê°ì²´
 * - Lombokì„ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µ ì½”ë“œ ìµœì†Œí™”
 */
@AllArgsConstructor  // ëª¨ë“  í•„ë“œë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ìƒì„±ì ìë™ ìƒì„±
@ToString            // toString() ë©”ì„œë“œ ìë™ ìƒì„±
public class Member {
    private Long id;
    private String name;
    private String email;
    private Integer age;
}
```

#### Lombok ì• ë…¸í…Œì´ì…˜

| ì• ë…¸í…Œì´ì…˜ | ìƒì„± ì½”ë“œ |
|-----------|----------|
| `@AllArgsConstructor` | `public Member(Long id, String name, String email, Integer age) { ... }` |
| `@ToString` | `public String toString() { return "Member(id=1, name=ê¹€ìš°í˜„, ...)"; }` |

---

### 3.1.5 JDBCë¥¼ ì‚¬ìš©í•œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™

#### ì „ì²´ ì½”ë“œ

**DatabaseSampleApplication.java**:
```java
package kr.ac.hansung.cse.databasesample;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import java.sql.*;

@SpringBootApplication
public class DatabaseSampleApplication {

    public static void main(String[] args) throws ClassNotFoundException, SQLException {
        
        SpringApplication.run(DatabaseSampleApplication.class, args);

        // ========================================
        // 1. JDBC Driver ë¡œë”©
        // ========================================
        /*
         * Class.forName()ì˜ ì—­í• :
         * - JDBC Driver í´ë˜ìŠ¤ë¥¼ JVM ë©”ëª¨ë¦¬ì— ë¡œë“œ
         * - ë¡œë“œëœ DriverëŠ” DriverManagerì— ìë™ ë“±ë¡ë¨
         * - DriverManagerê°€ MySQL ì ‘ì† ë°©ë²•ì„ ì•Œê²Œ ë¨
         * 
         * "com.mysql.cj.jdbc.Driver":
         * - mysql-connector-j ë¼ì´ë¸ŒëŸ¬ë¦¬ì— í¬í•¨ëœ MySQL JDBC Driver í´ë˜ìŠ¤
         * - ì´ í´ë˜ìŠ¤ê°€ JDBC APIë¥¼ ì‹¤ì œë¡œ êµ¬í˜„í•¨
         * 
         * ì°¸ê³ : JDBC 4.0 ì´í›„ë¡œëŠ” ìë™ ë¡œë”©ë˜ì§€ë§Œ, ëª…ì‹œì  í‘œí˜„ì„ ìœ„í•´ ì‘ì„±
         */
        Class.forName("com.mysql.cj.jdbc.Driver");

        // ========================================
        // 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
        // ========================================
        /*
         * DriverManager.getConnection()ì˜ ì—­í• :
         * - ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì—°ê²°(Connection) ê°ì²´ ìƒì„±
         * 
         * ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ (JDBC URL):
         * "jdbc:mysql://localhost:3306/mydb"
         *  â”€â”€â”€â”€ â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€ â”€â”€â”€â”€
         *   â”‚     â”‚       â”‚       â”‚     â””â”€ ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„
         *   â”‚     â”‚       â”‚       â””â”€ í¬íŠ¸ ë²ˆí˜¸ (MySQL ê¸°ë³¸: 3306)
         *   â”‚     â”‚       â””â”€ ì„œë²„ ì£¼ì†Œ (localhost = ë‚´ ì»´í“¨í„°)
         *   â”‚     â””â”€ ë°ì´í„°ë² ì´ìŠ¤ ì¢…ë¥˜ (MySQL)
         *   â””â”€ JDBC í”„ë¡œí† ì½œ
         * 
         * ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜: ì‚¬ìš©ì ì´ë¦„ (myuser)
         * ì„¸ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜: ë¹„ë°€ë²ˆí˜¸ (mypass)
         */
        Connection connection = DriverManager.getConnection(
            "jdbc:mysql://localhost:3306/mydb",
            "myuser",
            "mypass"
        );

        // ========================================
        // 3. SQL ì¿¼ë¦¬ ì¤€ë¹„
        // ========================================
        /*
         * PreparedStatementì˜ ì—­í• :
         * - SQL ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë¯¸ë¦¬ ì „ì†¡
         * - ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ì¤€ë¹„ (ì»´íŒŒì¼)
         * - SQL Injection ë°©ì§€ (ë§¤ê°œë³€ìˆ˜ ë°”ì¸ë”© ì‹œ)
         * 
         * "select * from member":
         * - member í…Œì´ë¸”ì˜ ëª¨ë“  ì»¬ëŸ¼(*), ëª¨ë“  í–‰ ì¡°íšŒ
         */
        PreparedStatement preparedStatement = connection.prepareStatement(
            "select * from member"
        );

        // ========================================
        // 4. ì¿¼ë¦¬ ì‹¤í–‰
        // ========================================
        /*
         * executeQuery()ì˜ ì—­í• :
         * - SELECT ì¿¼ë¦¬ ì‹¤í–‰ (ë°ì´í„° ì¡°íšŒ)
         * - ê²°ê³¼ë¥¼ ResultSet ê°ì²´ë¡œ ë°˜í™˜
         * 
         * ResultSet:
         * - ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´
         * - ì»¤ì„œ(cursor)ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ í–‰ì”© ì ‘ê·¼
         */
        ResultSet resultSet = preparedStatement.executeQuery();

        // ========================================
        // 5. ê²°ê³¼ ì²˜ë¦¬
        // ========================================
        /*
         * while (resultSet.next()):
         * - ë‹¤ìŒ í–‰ìœ¼ë¡œ ì»¤ì„œ ì´ë™
         * - ë” ì´ìƒ í–‰ì´ ì—†ìœ¼ë©´ false ë°˜í™˜ (ë°˜ë³µ ì¢…ë£Œ)
         * 
         * resultSet.getLong("id"):
         * - í˜„ì¬ í–‰ì˜ "id" ì»¬ëŸ¼ ê°’ì„ Long íƒ€ì…ìœ¼ë¡œ ê°€ì ¸ì˜´
         * 
         * resultSet.getString("name"):
         * - í˜„ì¬ í–‰ì˜ "name" ì»¬ëŸ¼ ê°’ì„ String íƒ€ì…ìœ¼ë¡œ ê°€ì ¸ì˜´
         * 
         * resultSet.getInt("age"):
         * - í˜„ì¬ í–‰ì˜ "age" ì»¬ëŸ¼ ê°’ì„ Integer íƒ€ì…ìœ¼ë¡œ ê°€ì ¸ì˜´
         */
        while (resultSet.next()) {
            Member member = new Member(
                resultSet.getLong("id"),
                resultSet.getString("name"),
                resultSet.getString("email"),
                resultSet.getInt("age")
            );
            System.out.println(member);
        }

        // ========================================
        // 6. ì—°ê²° ì¢…ë£Œ
        // ========================================
        /*
         * connection.close()ì˜ ì—­í• :
         * - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í•´ì œ
         * - ë¦¬ì†ŒìŠ¤(ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬) ë°˜í™˜
         * - ë°˜ë“œì‹œ í˜¸ì¶œí•´ì•¼ í•¨ (ë¦¬ì†ŒìŠ¤ ëˆ„ìˆ˜ ë°©ì§€)
         * 
         * ê¶Œì¥: try-with-resources ì‚¬ìš©
         */
        connection.close();
    }
}
```

#### ì‹¤í–‰ ê²°ê³¼

```
Member(id=1, name=ê¹€ìš°í˜„, email=kimwoo@spring.co.kr, age=10)
Member(id=2, name=í™í˜œì°½, email=hyechang@spring.co.kr, age=20)
Member(id=3, name=ìœ¤ì„œì¤€, email=Seojunyoon@spring.co.kr, age=22)
Member(id=4, name=ê¹€ë¯¼ìˆ˜, email=minsusu@spring.co.kr, age=30)
```

---

### 3.1.6 JDBC ë™ì‘ ê³¼ì • ìƒì„¸ ë¶„ì„

#### 1ë‹¨ê³„: Driver ë¡œë”©

```java
Class.forName("com.mysql.cj.jdbc.Driver");
```

**ë‚´ë¶€ ë™ì‘**:
```
1. JVMì´ "com.mysql.cj.jdbc.Driver" í´ë˜ìŠ¤ íŒŒì¼ ë¡œë“œ
2. Driver í´ë˜ìŠ¤ì˜ static ì´ˆê¸°í™” ë¸”ë¡ ì‹¤í–‰
3. Driver ê°ì²´ê°€ DriverManagerì— ìë™ ë“±ë¡
4. DriverManager: "MySQLê³¼ í†µì‹ í•˜ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆë‹¤!"
```


#### 2ë‹¨ê³„: Connection ìƒì„±

```java
Connection connection = DriverManager.getConnection(
    "jdbc:mysql://localhost:3306/mydb",
    "myuser",
    "mypass"
);
```

**ë‚´ë¶€ ë™ì‘**:
```
1. DriverManagerê°€ ë“±ë¡ëœ Driverë“¤ì„ ìˆœíšŒ
2. URLì´ "jdbc:mysql"ë¡œ ì‹œì‘ â†’ MySQL Driver ì„ íƒ
3. MySQL Driverê°€ ì‹¤ì œ ì—°ê²° ì‹œë„
   - TCP ì†Œì¼“ ì—°ê²° (localhost:3306)
   - ì¸ì¦ í™•ì¸ (myuser/mypass)
   - mydb ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ
4. Connection ê°ì²´ ë°˜í™˜
```

**Connection ê°ì²´ì˜ ì—­í• **:
- ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ **ì„¸ì…˜(Session)** ì„ ë‚˜íƒ€ëƒ„
- ì´ ì—°ê²°ì„ í†µí•´ SQLì„ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°›ìŒ

#### 3ë‹¨ê³„: Statement ìƒì„± ë° ì‹¤í–‰

```java
PreparedStatement preparedStatement = connection.prepareStatement(
    "select * from member"
);
ResultSet resultSet = preparedStatement.executeQuery();
```

**ë‚´ë¶€ ë™ì‘**:
```
1. SQL ë¬¸ìì—´ì„ MySQL ì„œë²„ë¡œ ì „ì†¡
2. MySQLì´ SQLì„ íŒŒì‹±(ë¶„ì„)í•˜ê³  ì‹¤í–‰ ê³„íš ìˆ˜ë¦½
3. ì¿¼ë¦¬ ì‹¤í–‰
4. ê²°ê³¼ë¥¼ ResultSetìœ¼ë¡œ ë°˜í™˜
   (ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ Java ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ì „ì†¡)
```

#### 4ë‹¨ê³„: ê²°ê³¼ ì²˜ë¦¬

```java
while (resultSet.next()) {
    // ë°ì´í„° ì½ê¸°
}
```

**ResultSetì˜ êµ¬ì¡°**:
```
ì»¤ì„œ ìœ„ì¹˜ (ì²˜ìŒì—ëŠ” ì²« í–‰ ì´ì „)
    â†“
[Before First] â† resultSet.next() í˜¸ì¶œ ì „
[Row 1] id=1, name=ê¹€ìš°í˜„, ...  â† resultSet.next() â†’ true
[Row 2] id=2, name=í™í˜œì°½, ...  â† resultSet.next() â†’ true
[Row 3] id=3, name=ìœ¤ì„œì¤€, ...  â† resultSet.next() â†’ true
[Row 4] id=4, name=ê¹€ë¯¼ìˆ˜, ...  â† resultSet.next() â†’ true
[After Last] â† resultSet.next() â†’ false (ë°˜ë³µ ì¢…ë£Œ)
```

---

### 3.1.7 JDBCì˜ ë¬¸ì œì 

#### ë¬¸ì œ 1: ë°˜ë³µì ì¸ ì½”ë“œ

```java
// ë§¤ë²ˆ ì‘ì„±í•´ì•¼ í•˜ëŠ” ì½”ë“œ
Connection conn = DriverManager.getConnection(...);
PreparedStatement stmt = conn.prepareStatement(...);
ResultSet rs = stmt.executeQuery();
while (rs.next()) {
    // ë§¤í•‘ ì½”ë“œ
}
conn.close();
```

#### ë¬¸ì œ 2: ìˆ˜ë™ ë§¤í•‘

```java
// ì»¬ëŸ¼ê³¼ ê°ì²´ í•„ë“œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë§¤í•‘
Member member = new Member(
    rs.getLong("id"),
    rs.getString("name"),
    rs.getString("email"),
    rs.getInt("age")
);
```

#### ë¬¸ì œ 3: ë¦¬ì†ŒìŠ¤ ê´€ë¦¬

```java
// close()ë¥¼ ê¹œë¹¡í•˜ë©´ ë¦¬ì†ŒìŠ¤ ëˆ„ìˆ˜!
connection.close();  // ë°˜ë“œì‹œ í˜¸ì¶œí•´ì•¼ í•¨
```

#### ë¬¸ì œ 4: ì˜ˆì™¸ ì²˜ë¦¬

```java
// ì²´í¬ ì˜ˆì™¸(Checked Exception) ì²˜ë¦¬ í•„ìš”
throws ClassNotFoundException, SQLException
```

**ì´ëŸ¬í•œ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë“±ì¥í•œ ê²ƒì´:**
- Spring Data JDBC (3.2)
- MyBatis (3.3)
- JPA (3.4)

---


*ì‘ì„±ì¼: 2025-10-13*  
*í•™ìŠµ ëª©í‘œ: JDBCë¥¼ ì‚¬ìš©í•œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ì´í•´* âœ…
