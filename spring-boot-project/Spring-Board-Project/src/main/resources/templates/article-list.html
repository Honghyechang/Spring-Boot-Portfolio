<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org"   xmlns:sec="http://www.thymeleaf.org/extras/spring-security"

      th:replace="~{/base-layout::layout(  ~{::section}  )}"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<section th:fragment="section">

    <table class="table">
        <thead>
            <tr>
                <td>#</td>
                <td>제목</td>
                <td>작성자</td>
                <td>수정날짜</td>
            </tr>
        </thead>

        <tbody>
        <tr th:each="article : ${page.content}">
            <td th:text="${article.id}"></td>
            <td> <a th:href="@{/article/content (id=${article.id})}" th:text="${article.title}"></a></td>
            <td th:text="${article.name}"></td>
            <td th:text="${#temporals.format(article.updated,'yyyy-MM-dd HH:mm:ss')}"></td>
        </tr>
        </tbody>
    </table>

        <nav th:if="${!page.isEmpty()}">

            <ul th:with="start=${ (page.number div page.size)  * page.size }
            , last=${start + (page.size - 1) > (page.totalPages)-1 ?  (page.totalPages)-1 : start + (page.size - 1) }" class="pagination">

            <li class="page-item" th:classappend="${page.isFirst()} ? 'disabled'">
                <a class="page-link" th:href="@{/article/list(page=${(page.number)-1})}">&laquo;</a>
            </li>

            <li th:each="pageNumber : ${#numbers.sequence(start,last)}" class="page-item" th:classappend="${page.number==pageNumber}? 'active'">
                <a th:href="@{/article/list(page=${pageNumber})}" th:text="${pageNumber+1}" class="page-link"></a>
            </li>

                <li class="page-item" th:classappend="${page.isLast()} ? 'disabled'">
                    <a class="page-link" th:href="@{/article/list(page=${(page.number)+1})}">&raquo;</a>
                </li>

            </ul>

        </nav>

        <a th:href="@{/article/add}" sec:authorize="isAuthenticated()" class="btn btn-primary">글쓰기</a>



</section>

</body>
</html>

<!--<tr th:each="article : ${articles}">-->
<!--    <td th:text="${article.id}"></td>-->
<!--    <td th:text="${article.title}"></td>-->
<!--    <td th:text="${article.name}"></td>-->
<!--                <td th:text="${#calendars.format(article.updated,'yyyy-MM-dd HH:mm:ss')}"></td>-->
<!--</tr>-->
<!--<td th:text="${#calendars.format(article.updated,'yyyy-MM-dd HH:mm:ss')}"></td>-->
<!--를 쓰니가 문제가 발생하였다.-->
<!--🕰️ $\text{#calendars}$와 $\text{#temporals}$의 관계유틸리티대상 Java 타입사용 시기 (레거시 vs. 모던)$\text{#calendars}$java.util.Calendar, java.util.DateJava 8 이전의 레거시(Legacy) 날짜 타입을 사용할 때$\text{#temporals}$java.time.LocalDateTime, java.time.ZonedDateTime 등Java 8 이후의 모던(Modern) 날짜/시간 타입을 사용할 때1. $\text{#calendars}$를 쓰면 왜 문제가 생겼나요?현재 프로젝트에서 사용하는 날짜/시간 타입은 JPA(@CreatedDate, @LastModifiedDate 등)를 통해 자동으로 설정되는 **java.time.LocalDateTime**입니다.LocalDateTime 객체를 **#calendars**에게 전달하면, **#calendars**는 자신이 포맷팅할 수 있는 타입(Calendar 또는 Date)이 아니라고 판단하여 처리하지 못하고 **예외(Exception)**를 발생시킵니다.2. $\text{#temporals}$를 써야 하는 이유#temporals는 Thymeleaf에서 LocalDateTime과 같은 Java 8의 모던 타입을 포맷팅하기 위해 특별히 만들어진 유틸리티입니다.따라서 LocalDateTime을 다룰 때는 **반드시 $\text{#temporals}$**를 사용해야 하며, 이것이 문제를 해결하는 올바른 방법입니다.요약하자면:사용하는 데이터 타입(LocalDateTime)이 모던합니다.사용하려던 포맷팅 함수(\#calendars)는 레거시 타입 전용이었습니다.해결책은 모던 데이터 타입에 맞는 $\text{#temporals}$ 함수를 사용하는 것입니다.-->


<!--temporals로 바꾸니까 문제가 해결되었다.-->
<!--<td th:text="${#temporals.format(article.updated,'yyyy-MM-dd HH:mm:ss')}"></td>-->

<!--스프링 부트 게시판-->
<!--로그인-->
<!--회원가입-->
<!--#	제목	작성자	수정날짜-->
<!--1	첫 번째 게시글 제목	홍혜창	2025-11-08 17:53:35-->
<!--2	두 번째 게시글 제목	윤서준	2025-11-08 17:53:35-->
<!--3	세 번째 게시글 제목	김우현	2025-11-08 17:53:35-->
<!--4	네 번째 게시글 제목	손흥민	2025-11-08 17:53:35-->




<!--<!DOCTYPE html>-->

<!--<html lang="en" xmlns:th="http://www.thymeleaf.org"   xmlns:sec="http://www.thymeleaf.org/extras/spring-security"-->

<!--      th:replace="~{/base-layout::layout(  ~{::section}  )}"-->
<!--&gt;-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Title</title>-->
<!--</head>-->
<!--<body>-->
<!--<section th:fragment="section">-->

<!--    <table class="table">-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <td>#</td>-->
<!--            <td>제목</td>-->
<!--            <td>작성자</td>-->
<!--            <td>수정날짜</td>-->
<!--        </tr>-->
<!--        </thead>-->

<!--        <tbody>-->
<!--        <tr th:each="article : ${articles}">-->
<!--            <td th:text="${article.id}"></td>-->
<!--            <td> <a th:href="@{/article/content (id=${article.id})}" th:text="${article.title}"></a></td>-->
<!--            <td th:text="${article.name}"></td>-->
<!--            <td th:text="${#temporals.format(article.updated,'yyyy-MM-dd HH:mm:ss')}"></td>-->
<!--        </tr>-->

<!--        </tbody>-->
<!--    </table>-->

<!--</section>-->

<!--</body>-->
<!--</html>-->
<!--위 코드 시 결과 문제없이 잘 나타난다.-->
<!--네, 좋습니다\! 긴 여정 끝에 최종적으로 완성된 HTML 구조와 Thymeleaf 로직을 바탕으로, 지금까지의 과정을 포함하여 전체 내용을 깔끔하게 정리해 드리겠습니다.-->

<!--## 🏆 스프링 부트 게시판 최종 레이아웃 및 목록 정리-->

<!--제공해 주신 두 개의 HTML 파일 (레이아웃 파일과 내용 파일)을 바탕으로, 최종 결과와 핵심 동작 원리를 정리했습니다.-->

<!-- -&#45;&#45;&#45;&#45;-->

<!--## 1\. `article-list.html` (게시글 목록) 분석 및 문제 해결 과정-->

<!--### A. 최종 HTML 코드 (핵심 부분)-->

<!--```html-->
<!--<tr th:each="article : ${articles}">-->
<!--    <td th:text="${article.id}"></td>-->
<!--    <td th:text="${article.title}"></td>-->
<!--    <td th:text="${article.name}"></td>-->
<!--    <td th:text="${#temporals.format(article.updated,'yyyy-MM-dd HH:mm:ss')}"></td>-->
<!--</tr>-->
<!--```-->

<!--### B. 문제 해결의 핵심-->

<!--| 문제 항목 | 초기 시도 코드 | 최종 해결 코드 | 해결 원리 |-->
<!--| :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; |-->
<!--| **드롭다운 오류** | `bootstrap.min.js` 로드 | **`bootstrap.bundle.min.js`** 로드 | 드롭다운 작동에 필수적인 **Popper.js**가 포함된 번들 파일을 사용하여 동적 기능 활성화. |-->
<!--| **날짜 포맷 오류** | `th:text="${#calendars.format(article.updated...)}"` | **`th:text="${#temporals.format(article.updated...)}"`** | Java 8의 **`LocalDateTime`** 타입(Modern)은 **`#calendars`**(Legacy)가 아닌 **`#temporals`** 유틸리티 함수로만 포맷팅해야 함. |-->
<!--| **경로/인증 오류** | `th:src="@{/image/spring.svg}"` | 경로 문제와 Security 설정 (`/image/` vs `/images/`) | `images` 폴더로 경로 통일하거나, Spring Security 설정에서 `/image/**` 경로를 **`web.ignoring()`** 처리하여 비로그인 접근 허용. |-->

<!--### C. 최종 결과 화면-->

<!--| 항목 | \# | 제목 | 작성자 | 수정날짜 |-->
<!--| :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; |-->
<!--| **데이터** | 1 | 첫 번째 게시글 제목 | 홍혜창 | 2025-11-08 17:53:35 |-->
<!--| **요약** | `@ResponseBody` 대신 **Thymeleaf 템플릿 엔진**을 통해 DB의 동적 데이터를 웹 테이블로 성공적으로 변환 및 출력합니다. |-->

<!-- -&#45;&#45;&#45;&#45;-->

<!--## 2\. 전체 레이아웃 구조 및 작동 방식 정리-->

<!--### A. 레이아웃 파일 (`base-layout.html`)의 역할-->

<!--| 기능 | Thymeleaf 코드 | 설명 |-->
<!--| :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; |-->
<!--| **레이아웃 정의** | `th:fragment="layout(content)"` | 모든 페이지의 뼈대(Shell) 역할을 정의하며, `<head>`와 `<nav>`를 고정시킵니다. |-->
<!--    | **내용 교체** | `<div th:replace="${content}">` | `article-list.html`에서 전달받은 `<section>` 내용이 이 위치에 삽입됩니다. **네비게이션바는 고정된 채** 본문 내용만 바뀝니다. |-->
<!--        | **보안 조건** | `sec:authorize="..."` | Spring Security를 사용하여 로그인 상태(`isAnonymous()`, `isAuthenticated()`)나 권한(`hasAuthority('ROLE_ADMIN')`)에 따라 네비게이션바 메뉴 항목을 동적으로 표시합니다. |-->

<!--        ### B. 레이아웃 사용 방법 (`article-list.html` 등)-->

<!--        | 기능 | Thymeleaf 코드 | 설명 |-->
<!--        | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; |-->
<!--        | **레이아웃 적용** | `th:replace="~{/base-layout::layout( ~{::section} )}"` | **가장 핵심적인 부분입니다.**<br>현재 파일의 전체 내용을 `base-layout`의 `layout` 프래그먼트로 대체합니다. 이때, **현재 파일의 `<section>`** 내용을 매개변수로 지정하여 레이아웃의 본문 영역에 삽입하도록 합니다. |-->
<!--            | **페이지 내용 정의** | `<section th:fragment="section">` | 이 태그 내부에 게시글 목록 `<table>`와 같이 해당 페이지에서만 보여줄 **고유 콘텐츠**를 정의하고, 이를 `base-layout.html`로 전달합니다. |-->




<!--Thymeleaf th:href를 이용한 파라미터 전달사용하신 코드는 게시글 목록에서 특정 게시글을 클릭하여 상세 페이지로 이동할 때, 해당 게시글의 ID 값을 URL 파라미터로 전달하는 표준적인 방법입니다.1. 코드 분석 (파라미터 전달)HTML<td> <a th:href="@{/article/content (id=${article.id})}" th:text="${article.title}"></a></td>-->
<!--부분역할설명th:href="@{...}"URL 표현식Thymeleaf의 핵심 기능으로, Context Path(경로 접두사)를 자동으로 붙여 안전한 URL을 생성합니다./article/content기본 경로요청을 받을 컨트롤러의 기본 매핑 URL입니다.(id=${article.id})파라미터 객체소괄호 안에 (파라미터명=값) 형태로 맵(Map)처럼 파라미터를 정의합니다. 여기서 ${article.id}는 th:each로 순회 중인 현재 게시글 객체의 ID 값입니다.2. 최종 생성되는 URL 형태이 코드가 서버에서 렌더링을 마치고 브라우저로 전송되면, 아래와 같은 순수한 HTML 링크로 변환됩니다.만약 현재 순회 중인 게시글의 ID가 5라면:$$\text{<a href="/article/content?id=5">게시글 제목</a>}$$이처럼, 소괄호 안에 정의된 파라미터는 자동으로 URL의 쿼리 스트링(?id=5) 형태로 변환되어 URL 뒤에 붙게 됩니다.🔑 경로 매칭과 파라미터 전달의 원리1. 매칭이 안되어서 파라미터로 넘어가는 부분 (쿼리 스트링)Thymeleaf의 @\{...\} 표현식은 전달된 값과 컨트롤러의 매핑 패턴을 비교합니다.A. Query String (쿼리 스트링) 전달 방식사용자 코드: th:href="@{/article/content (id=${article.id})}"컨트롤러 매핑: @GetMapping("/article/content")작동: 컨트롤러가 정확히 일치하는 Path Variable({id})을 가지고 있지 않기 때문에, Thymeleaf는 (id=${article.id}) 값을 매칭 실패 파라미터로 간주하고 URL 뒤에 ?id=값 형태로 붙여서 전달합니다.2. 경로 변수 (Path Variable) 전달 방식 (대조군)만약 컨트롤러가 URL 경로 자체에 값을 포함하는 Path Variable 방식을 사용한다면, Thymeleaf 코드는 다음과 같이 작성하고 파라미터는 쿼리 스트링으로 넘어가지 않고 경로에 포함됩니다.컨트롤러 매핑: @GetMapping("/article/content/{id}")Thymeleaf 코드:$$\mathbf{\text{}}$$작동: 이 경우, Thymeleaf는 (id=${article.id}) 값을 URL 경로 내의 {id} 부분에 매칭시켜서 값을 넣어줍니다.최종 URL: /article/content/53. 최종 권장 사항게시글 상세 페이지를 조회할 때 ID를 쿼리 스트링(?id=5)으로 넘기거나 Path Variable (/5)로 넘기거나 모두 가능하지만, 지금 사용하신 쿼리 스트링 방식은 가장 일반적이고 직관적인 파라미터 전달 방식이므로 문제없이 잘 사용하고 계십니다.정리하자면: 소괄호 안에 넣은 값은 컨트롤러의 URL 패턴에 매칭되지 않으면 자동으로 ?key=value 형태의 쿼리 파라미터로 변환되어 전달됩니다.-->
<!--결론적으로는 지금 파라미터로 넘기고있다는점!-->

<!--단현재 코드의 문제점은-->
<!--네, 맞습니다! 현재 구현된 방식은 게시글이 많아지면 성능 저하와 느린 로딩 속도를 유발하는 치명적인 단점이 됩니다.-->

<!--말씀하신 것처럼 이 문제를 해결하는 표준이자 최선의 방법은 **페이지네이션(Pagination, 페이징 처리)**입니다.-->


<!--주신 코드는 **"현재 페이지의 내용물이 비어있지 않다면(즉, 게시글이 하나라도 있다면) 내비게이션 바를 보여줘"**라는 의미입니다.-->

<!--HTML-->

<!--<nav th:if="${!page.isEmpty()}">-->
<!--    &lt;!&ndash; ... 페이지네이션 바 내용 ... &ndash;&gt;-->
<!--</nav>-->

<!--즉 처음에 0페이지를 요청하고, 0페이지에 아무것도 없다, 게시글이 아무것도 없다면  네비바는 보여지지않는다.-->


<!--<ul th:with="start=${ T(java.lang.Math).floor( (page.number/page.size))*page.size }, last=${T(java.lang.Math).min((start+(page.size)-1) , (page.totalPages)-1)}" class="pagination">-->
<!--</ul>-->

<!--위 코드는 내용 및 정리-->
<!--주신 `th:with` 코드는 페이지네이션에서 \*\*'페이지 그룹'\*\*을 계산하는 핵심 로직을 담고 있습니다. 이 코드를 구성 요소별로 상세하게 분석하고, Thymeleaf 변수의 사용 원리를 정리해 드리겠습니다.-->

<!-- -&#45;&#45;&#45;&#45;-->

<!--## 🚀 `th:with` 페이지 그룹 계산 로직 분석-->

<!--### 📝 분석 대상 코드-->

<!--```html-->
<!--<ul th:with="start=${ T(java.lang.Math).floor( (page.number/page.size))*page.size }, last=${T(java.lang.Math).min((start+(page.size)-1) , (page.totalPages)-1)}" class="pagination">-->
<!--</ul>-->
<!--```-->

<!--### 1\. `th:with`의 의미와 사용법-->

<!--| 항목 | 내용 |-->
<!--| :-&#45;&#45; | :-&#45;&#45; |-->
<!--| **의미** | **임시 지역 변수 선언**입니다. 이 변수들은 해당 `<ul>` 태그와 그 안에 있는 모든 자식 태그(`<li>`, `<a class="page-link">` 등) 내에서만 유효합니다. |-->
<!--    | **사용법** | `th:with="변수명1=값1, 변수명2=값2, ..."` 형태로 쉼표(`,`)를 구분자로 사용하여 여러 변수를 동시에 정의합니다. |-->
<!--    | **`start`의 사용 범위** | **`start` 변수는 선언된 같은 `th:with` 구문 내에서, 그리고 그 이후에 선언되는 변수(`last`)에서 바로 사용 가능합니다.** (코드에서 `last` 계산에 `start`를 사용하고 있음) |-->

<!--    -&#45;&#45;&#45;&#45;-->

<!--    ### 2\. `start` 변수 분석: 그룹의 시작 인덱스-->

<!--    `start=${ T(java.lang.Math).floor( (page.number/page.size))*page.size }`-->

<!--    `start`는 \*\*현재 페이지 번호 그룹의 첫 번째 페이지 인덱스(0부터 시작)\*\*를 계산합니다.-->

<!--    | 부분 | 역할 | 계산 원리 |-->
<!--    | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; |-->
<!--    | **`page.number`** | 현재 페이지 번호 (예: 3) | |-->
<!--    | **`/page.size`** | 현재 페이지 번호를 그룹 크기(예: 5)로 나눔. (예: 3 / 5 = 0.6) | |-->
<!--    | **`T(java.lang.Math).floor(...)`** | 나눗셈 결과의 **소수점 이하를 버림(내림)**. (예: `floor(0.6)` $\rightarrow$ 0) | |-->
<!--    | **`*page.size`** | 내림한 몫에 그룹 크기를 다시 곱함. (예: 0 $\times$ 5 $\rightarrow$ 0) | |-->
<!--    | **결론** | **`start`는 현재 그룹의 시작 인덱스(0, 5, 10, ...)가 됩니다.** |-->

<!--    **예시:** 5개씩 묶을 때, 3페이지(인덱스)는 **0그룹**의 시작점인 $\mathbf{0}$으로 계산됩니다.-->

<!--    -&#45;&#45;&#45;&#45;-->

<!--    ### 3\. `last` 변수 분석: 그룹의 마지막 인덱스-->

<!--    `last=${T(java.lang.Math).min((start+(page.size)-1) , (page.totalPages)-1)}`-->

<!--    `last`는 **현재 페이지 그룹의 마지막 페이지 인덱스**를 계산하며, 전체 페이지 수를 넘지 않도록 안전장치를 마련합니다.-->

<!--    | 부분 | 역할 | 계산 원리 |-->
<!--    | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; |-->
<!--    | **`start + (page.size) - 1`** | **그룹의 끝 예상 인덱스** (예: `0 + 5 - 1 = 4`) | `start`부터 그룹 크기만큼 더한 값입니다. |-->
<!--    | **`page.totalPages - 1`** | **전체 페이지의 마지막 유효 인덱스** (예: 총 17페이지라면 16) | 페이지 인덱스는 0부터 시작하므로 총 페이지 수에서 1을 뺌. |-->
<!--    | **`T(java.lang.Math).min(...)`** | **두 값 중 더 작은 값**을 선택합니다. | 그룹 끝 예상값이 전체 페이지 끝을 넘어설 때 (예: 99페이지를 보여주려는데 전체가 95페이지일 때), 95를 선택하게 합니다. |-->
<!--    | **결론** | **`last`는 현재 그룹에서 보여줄 수 있는 최대 인덱스가 됩니다.** |-->

<!--    ### 4\. 최종 사용 목적 (페이지 그룹 목록)-->

<!--    `start`와 `last` 변수는 다음과 같이 **`th:each` 반복문**과 결합되어 사용됩니다.-->

<!--    ```html-->
<!--    <li th:each="i : ${#numbers.sequence(start, last)}">-->
<!--        &lt;!&ndash; 'i'는 start(0)부터 last(4)까지 반복됩니다. &ndash;&gt;-->
<!--        <a th:href="@{/article/list(page=${i})}" th:text="${i + 1}"></a>-->
<!--    </li>-->
<!--    ```-->

<!--    이 코드는 **`start`부터 `last`까지의 인덱스**를 순회하며, 화면에는 `i + 1` (1부터 시작하는 페이지 번호)을 출력하여 현재 페이지 그룹의 목록을 보여줍니다.-->

<!--    네, 알겠습니다. **`T()` 사용법**과 `th:with`로 정의된 **변수의 사용 범위**에 대해 명확하게 정리해 드리겠습니다.-->

<!--    -&#45;&#45;&#45;&#45;-->

<!--    ## 1\. `T()` (타입 접근) 사용법 상세-->

<!--    `T()`는 Thymeleaf 표현식 내에서 \*\*Java 클래스의 정적 요소(Static Member)\*\*에 접근할 때 사용하는 특별한 구문입니다.-->

<!--    ### A. 기본 문법-->

<!--    $$\text{T(자바_클래스_의_풀_패키지_경로).정적_요소}$$-->

<!--    ### B. 주요 용도-->

<!--    | 사용 목적 | Thymeleaf 구문 | Java 코드 대체 | 설명 |-->
<!--    | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; | :-&#45;&#45; |-->
<!--    | **수학 함수 호출** | `T(java.lang.Math).min(a, b)` | `Math.min(a, b)` | 페이지네이션에서 그룹의 마지막 번호를 계산할 때 사용됩니다. |-->
<!--    | **날짜/시간 호출** | `T(java.time.LocalDateTime).now()` | `LocalDateTime.now()` | 현재 시스템 시간을 가져올 때 사용됩니다. |-->
<!--    | **상수 접근** | `T(java.lang.Integer).MAX_VALUE` | `Integer.MAX_VALUE` | 자바 클래스에 정의된 상수에 접근합니다. |-->

<!--    ### C. `T()`를 사용한 정수 나눗셈 처리 예시-->

<!--    페이지네이션 로직에서 `T()`를 사용한 이유는 \*\*정확한 몫(내림)\*\*을 구하기 위함이었습니다.-->

<!--    ```html-->
<!--    T(java.lang.Math).floor( (page.number/page.size) )-->
<!--    ```-->

<!--    이 코드는 `page.number`를 `page.size`로 나눈 후, 소수점 이하를 버려 **정확한 몫**을 반환합니다.-->

<!--    -&#45;&#45;&#45;&#45;-->

<!--    ## 2\. `th:with` 변수의 사용 범위 (스코프)-->

<!--    > **"start, last를 자식에서 $\text{\${start}}$ 이런 식으로 쓸 수 있는 거야?"**-->

<!--    **네, 완벽하게 가능합니다.** 이것이 `th:with`를 사용하는 주된 이유입니다.-->

<!--    ### A. 사용 가능 범위-->

<!--    `th:with`로 정의된 `start`와 `last` 변수는 \*\*선언된 태그(예: $\langle ul \rangle$)\*\*와 그 태그의 \*\*모든 하위 요소(자식, 손자 등)\*\*에서 사용할 수 있습니다.-->

<!--    | 위치 | `start` 변수 사용 가능 여부 |-->
<!--    | :-&#45;&#45; | :-&#45;&#45; |-->
<!--    | $\langle ul \rangle$ 태그의 다른 속성 | 가능 |-->
<!--    | $\langle ul \rangle$의 직계 자식 태그 $(\langle li \rangle$ 등) | 가능 |-->
<!--    | $\langle ul \rangle$의 손자 태그 $(\langle a \rangle$ 등) | 가능 |-->
<!--    | $\langle ul \rangle$ 바깥의 형제 태그 | **불가능** (스코프 이탈) |-->

<!--    ### B. Thymeleaf 사용 예시-->

<!--    `start`와 `last` 변수는 **`th:each`의 경계**를 지정하거나, **조건문**을 만드는 데 사용됩니다.-->

<!--    ```html-->
<!--    <ul th:with="start=0, last=4" class="pagination">-->
<!--        &lt;!&ndash; <li> 태그는 <ul>의 자식 태그이므로 start와 last 사용 가능 &ndash;&gt;-->
<!--        <li th:each="i : ${#numbers.sequence(start, last)}">-->
<!--            &lt;!&ndash; <a> 태그는 <ul>의 손자 태그이므로 start와 last 사용 가능 &ndash;&gt;-->
<!--            <a class="page-link" th:href="@{/article/list(page=${i})}" th:text="${i + 1}">-->
<!--                &lt;!&ndash; i는 반복문 변수, start는 with 변수 &ndash;&gt;-->
<!--                현재 start 값: <span th:text="${start}"></span>-->
<!--            </a>-->
<!--        </li>-->
<!--    </ul>-->
<!--    ```-->

<!--    이처럼 `th:with`는 변수들을 특정 영역에 묶어두어 코드를 깔끔하게 관리할 수 있게 해줍니다.-->


<!--<li class="page-item" th:classappend="${page.isFirst()} ? 'disabled'">-->
<!--    <a th:href="@{/article/list(page=${(page.number)-1})}">&laquo;</a>-->
<!--</li>-->

<!--코드는-->
<!--$\text{th:classappend}$ 최종 정리항목내용속성명th:classappend역할기존 $\text{class}$에 새로운 클래스를 조건부로 덧붙입니다(Append).주요 목적서버 데이터를 기반으로 **프론트엔드 프레임워크(부트스트랩)**에게 요소의 **상태(State)**를 지시합니다.구문th:classappend="${조건} ? '참일 때 클래스명'"예시 분석th:classappend="${page.first} ? 'disabled'"-->
<!--으로 첫번째가 아니면 활성화가 되고, 그리고 클릭하면 이전 페이지를 요구하는 href 요청이 넘어간다.-->


<!--<li th:each="pageNumber : ${#numbers.sequence(start,last)}" class="page-item" th:classappend="${page.number==pageNumber}? 'active'">-->
<!--    <a th:href="@{/article/list(page=${pageNumber})}" th:text="${pageNumber+1}" class="page-link"></a>-->
<!--</li>-->
<!--주신 Thymeleaf 코드는 페이지네이션 바의 핵심인 페이지 번호 목록을 출력하는 부분입니다. th:with에서 계산된 start와 last 변수를 완벽하게 활용하고 있습니다.이 코드를 구성 요소별로 상세하게 분석해 드리겠습니다.🚀 페이지 번호 목록 출력 코드 분석📝 분석 대상 코드HTML<li th:each="pageNumber : ${#numbers.sequence(start,last)}" class="page-item" th:classappend="${page.number==pageNumber}? 'active'">-->
<!--    <a th:href="@{/article/list(page=${pageNumber})}" th:text="${pageNumber+1}" class="page-link"></a>-->
<!--</li>-->
<!--1. $\text{#numbers.sequence}$ 사용법코드: th:each="pageNumber : ${#numbers.sequence(start,last)}"역할: Thymeleaf의 유틸리티 객체인 **#numbers**의 sequence 메서드를 사용하여 순차적인 정수 목록을 생성합니다.작동: start 변수의 값부터 last 변수의 값까지 (두 값 모두 포함하여) 정수 목록을 만듭니다. 이 목록의 각 요소는 pageNumber라는 임시 변수에 순서대로 할당됩니다.예: start=0, last=4라면, pageNumber는 0, 1, 2, 3, 4 순서로 할당됩니다.2. $\text{start}$와 $\text{last}$의 활용start와 last는 이전에 th:with에서 계산된 페이지 그룹의 경계 인덱스입니다.start $\rightarrow$ 반복문의 시작점last $\rightarrow$ 반복문의 끝점이 두 변수가 반복문의 범위를 제한함으로써, 사용자는 현재 페이지 그룹 (예: [11] [12] ... [20]) 내의 번호만 볼 수 있게 됩니다.3. $\langle li \rangle$ 태그 분석 (활성화 상태 표시)속성역할설명class="page-item"부트스트랩 클래스로, 페이지네이션 항목의 기본 스타일을 정의합니다.th:classappend="..."현재 페이지 활성화: page.number (현재 페이지 인덱스)와 pageNumber (반복 중인 인덱스)가 일치하면 active 클래스를 추가합니다.결과현재 사용자가 보고 있는 페이지의 번호 버튼에만 배경색이 채워져 시각적으로 강조됩니다.4. $\langle a \rangle$ 태그 분석 (링크 생성)속성역할설명th:href="@{...}"클릭 시 요청 URL: /article/list 경로로 이동하며, pageNumber를 page 파라미터로 서버에 전달합니다. (예: .../list?page=2)th:text="..."화면 표시 텍스트: pageNumber는 0부터 시작하는 인덱스이므로, 사용자에게 보여주기 위해 **pageNumber + 1**을 하여 1부터 시작하는 페이지 번호(예: 3)를 출력합니다.class="page-link"부트스트랩 클래스로, 링크에 페이지 버튼 스타일을 적용합니다.💡 종합 동작 원리이 코드는 start와 last가 정한 범위 내에서 <li> 태그를 반복 생성하며, 각 <li>는 다음과 같이 작동합니다.반복 중인 번호가 현재 페이지라면 active 클래스를 붙여 강조합니다.href에는 0부터 시작하는 페이지 인덱스를 서버에 요청 파라미터로 정확하게 전달합니다.화면에는 1부터 시작하는 페이지 번호를 보여줍니다.-->


<!--<ul th:with="start=${ (page.number div page.size)  * page.size }-->
<!--            , last=${start + (page.size - 1) > (page.totalPages)-1 ?  (page.totalPages)-1 : start + (page.size - 1) }" class="pagination">-->

<!--    페이지네이션 계산 로직 변경 및 해결 과정1. 초기 문제 코드처음에는 Java의 정적 메서드를 활용하는 방식으로 코드를 작성하셨습니다.HTML<ul th:with="-->
<!--    start=${ T(java.lang.Math).floor( (page.number/page.size))*page.size }, -->
<!--    last=${T(java.lang.Math).min((start+(page.size)-1) , (page.totalPages)-1)} -->
<!--    ..." class="pagination">-->
<!--    2. 발생했던 문제점 (오류 원인)이 코드를 실행했을 때 발생했던 가장 큰 오류는 **EL1031E: Problem locating method min(java.lang.Double, java.lang.Integer)**였습니다.변수발생한 문제해결 필요성start 계산/ 나눗셈 결과가 Double이 되어, 이후 Math.min 인자가 Double과 Integer로 섞이는 타입 충돌을 유발했습니다.start를 Integer로 확정시켜야 했습니다.last 계산T(java.lang.Math).min 호출 시 SpEL이 min(int, int) 대신 불안정한 min(참조타입, 참조타입)을 호출하려다 메서드를 찾지 못하는 오류를 발생시켰습니다.T(java.lang.Math) 대신 안정적인 Thymeleaf 로직으로 대체해야 했습니다.3. 최종 해결 코드와 원리문제를 해결하기 위해 T(java.lang.Math) 사용을 ? : 조건부 연산자로 대체하여 Thymeleaf의 내장 기능만으로 로직을 완성했습니다.✅ 최종 코드 (현재 사용 중)HTML<ul th:with="start=${ (page.number div page.size) * page.size }-->
<!--, last=${start + (page.size - 1) > (page.totalPages)-1 ?  (page.totalPages)-1 : start + (page.size - 1) }" class="pagination">-->
<!--    💡 해결된 원리 요약변경된 부분역할해결된 문제start 계산page.number div page.size * page.sizediv 연산자를 사용하여 floor() 호출 없이도 정확한 정수 몫을 구하여 start를 안전한 Integer로 확정시켰습니다.last 계산조건 ? 참 : 거짓T(java.lang.Math).min(...) 호출을 제거하고, 대신 if-else와 동일한 역할을 하는 조건부 연산자를 사용했습니다.last 계산의 세부 동작:부분역할조건start + (page.size - 1) > (page.totalPages - 1) (그룹 끝 예상이 전체 끝을 넘는가?)참 (?)(page.totalPages - 1) (전체 페이지의 마지막 인덱스)거짓 (:)start + (page.size - 1) (계산된 그룹의 끝 인덱스)결론적으로, **last는 계산된 그룹 끝과 실제 페이지의 끝 중 더 작은 값(Math.min의 역할)**을 가지게 되며, 이로써 T() 호출과 관련된 모든 타입 충돌 문제를 완벽하게 해결하게 되었습니다.-->
<!--    -->
<!--    문제 해결-->